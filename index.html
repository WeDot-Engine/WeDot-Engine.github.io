<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=width=400, initial-scale=1">
    <meta name="description"
        content="A multi-platform 2D and 3D game engine focused solely on technology and user experience">
    <title>WeDot Engine</title>
    <style>
        /* 全局 */
        html {
            height: 100%;
        }

        * {
            margin: 0px;
            padding: 0px;
            font-family: Arial, sans-serif;
        }

        body {
            font-family: 'Exo', sans-serif;
        }
        
        a {
            cursor: pointer;
        }
        
        .max-width {
            max-width: 1024px;
            width: 100%;
        }

        /* 导航栏 */
        nav {
            width: 100%;
            box-sizing: border-box;
            background-color: rgba(0, 0, 0, 0.2);
            color: #fff;
            display: flex;
            justify-content: center;
        }
        
        nav .logo img,
        nav .logo svg {
            width: 30px;
            margin: 1rem;
        }
        
        nav .nav-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        nav .ul {
            height: 100%;
            align-items: center;
            margin-right: 1rem;
            list-style: none;
            display: flex;
        }

        nav .ul a {
            display: inline;
            position: relative;
            color: #fff;
            text-decoration: none;
            padding: 0.5rem 1rem;
            box-sizing: border-box;
            transition: background-color 0.3s;
        }

        nav .ul a:hover {
            background-color: #555;
        }

        /* 主要内容 */
        .container {
            margin: 6rem auto;
            box-sizing: border-box;
            padding: 1rem;
            flex-direction: column;
            align-items: center;
            display: flex;
            justify-content: center;
        }

        .container h1 {
            text-align: center;
            color: #fff;
            font-size: 50px;
        }

        .container p {
            margin-top: 1rem;
            text-align: center;
            color: #fff;
            font-size: 20px;
        }

        .container exegesis {
            color: gray;
        }

        .container .main-logo {
            width: 75%;
            max-width: 256px;
        }

        .container .contact {
            margin-top: 1rem;
            text-align: center;
            display: flex;
            gap: 2rem;
            flex-wrap: wrap;
            justify-content: center;
            color: #fff;
            font-size: 30px;
        }

        .container .contact a {
            text-decoration: none;
            color: inherit;
            align-items: center;
            border-radius: .5rem;
            box-sizing: border-box;
            display: flex;
            padding: .5rem;
            text-align: center;
        }

        /* 加载进度条 */
        .loading-bar {
            position: fixed;
            top: 0;
            left: 0;
            z-index: 99999;
            opacity: 0;
            transition: opacity .4s linear;

            .progress {
                position: fixed;
                top: 0;
                left: 0;
                width: 0;
                height: 4px;
                background-color: #007bff;
                box-shadow: 0 0 10px rgba(119, 182, 255, .7);
            }

            &.loading {
                opacity: 1;
                transition: none;

                .progress {
                    transition: width .4s ease;
                }
            }
        }

        /* 背景 */
        .area {
            z-index: -1;
            position: fixed;
            left: 0;
            top: 0;
            background: #4e54c8;
            background: -webkit-linear-gradient(to left, #8f94fb, #4e54c8);
            width: 100%;
            height: 100vh;
        }

        .circles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
        }

        .circles li {
            position: absolute;
            display: block;
            list-style: none;
            width: 20px;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            animation: animate 25s linear infinite;
            bottom: -150px;
        }

        .circles li:nth-child(1) {
            left: 25%;
            width: 80px;
            height: 80px;
            animation-delay: 0s;
        }

        .circles li:nth-child(2) {
            left: 10%;
            width: 20px;
            height: 20px;
            animation-delay: 2s;
            animation-duration: 12s;
        }

        .circles li:nth-child(3) {
            left: 70%;
            width: 20px;
            height: 20px;
            animation-delay: 4s;
        }

        .circles li:nth-child(4) {
            left: 40%;
            width: 60px;
            height: 60px;
            animation-delay: 0s;
            animation-duration: 18s;
        }

        .circles li:nth-child(5) {
            left: 65%;
            width: 20px;
            height: 20px;
            animation-delay: 0s;
        }

        .circles li:nth-child(6) {
            left: 75%;
            width: 110px;
            height: 110px;
            animation-delay: 3s;
        }

        .circles li:nth-child(7) {
            left: 35%;
            width: 150px;
            height: 150px;
            animation-delay: 7s;
        }

        .circles li:nth-child(8) {
            left: 50%;
            width: 25px;
            height: 25px;
            animation-delay: 15s;
            animation-duration: 45s;
        }

        .circles li:nth-child(9) {
            left: 20%;
            width: 15px;
            height: 15px;
            animation-delay: 2s;
            animation-duration: 35s;
        }

        .circles li:nth-child(10) {
            left: 85%;
            width: 150px;
            height: 150px;
            animation-delay: 0s;
            animation-duration: 11s;
        }

        @keyframes animate {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
                border-radius: 0;
            }

            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
                border-radius: 50%;
            }
        }

        /* 翻译按钮相关 */
        .translateSelectLanguage {
            z-index: 10;
            width: 100%;
            height: 100%;
            opacity: 0;
            cursor: pointer;
            position: absolute;
            top: 0;
            left: 0
        }

        /* 深色模式相关 */
        .darkmode--activated img,
        .darkmode--activated svg {
            isolation: isolate;
            mix-blend-mode: difference
        }

        .darkmode--activated .area {
            isolation: isolate;
            mix-blend-mode: difference;
            background-color: #000;
        }

        .darkmode--activated select {
            background-color: #000;
            color: #E0E0E0
        }
    </style>
    <link rel="icon" type="image/svg+xml" href="/img/wedot.png">
    <link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-y/font-awesome/6.0.0/css/all.min.css">
    <script src="//lib.baomitu.com/pjax/0.2.8/pjax.min.js" type="text/javascript"></script>
    <script src="//lib.baomitu.com/translate.js/3.7.2/translate.js" type="text/javascript"></script>
    <script src="//lib.baomitu.com/Darkmode.js/1.5.7/darkmode-js.min.js" type="text/javascript"></script>
    <script>
        // 使用 IIFE 包裹以避免全局变量污染
        (function () {
            var loadingBar = document.querySelector(".loading-bar");
            var progress = document.querySelector(".loading-bar .progress");
            var timer = null;
            let pjax;

            function initAni() {
                loadingBar = document.querySelector(".loading-bar");
                progress = document.querySelector(".loading-bar .progress");
            }

            // 初始化 PJAX
            function initPjax() {
                try {
                    const Pjax = window.Pjax || function () { };
                    pjax = new Pjax({
                        selectors: [
                            "head meta",
                            "head title",
                            ".pjax-reload"
                        ],
                        cacheBust: false
                    });
                } catch (e) {
                    console.log('PJAX 初始化出错：' + e);
                }
            }

            // translate-js 翻译系统
            //// 初始化翻译系统
            function initTranslate() {
                try {
                    translate.service.use('client.edge');
                    translate.listener.start();
                    translate.setAutoDiscriminateLocalLanguage();
                    translate.language.setLocal('english'); 
                    translate.language.setUrlParamControl();
                    translate.ignore.class.push('notTranslate');
                    translate.nomenclature.append('english', 'chinese_simplified', `
                        WeDot Engine=众点引擎
                        WeDot=众点
                        Home=主页
                        Home page=主页
                        About=关于
                    `);
                    translate.execute();
                } catch (e) {
                    console.error('翻译系统出错：' + e);
                }
            }

            // Darkmode.js 深色模式
            function initDarkmode() {
                try {
                    const Darkmode = window.Darkmode || function () {
                        console.warn('Darkmode.js 不存在？');
                        return;
                    };
                    var darkmode = new Darkmode();
                    document.body.addEventListener('click', function (event) {
                        if (event.target.id === 'dark_b') {
                            try {
                                darkmode.toggle();
                            } catch (e) {
                                console.error('Darkmode.js 出错：' + e);
                            }
                        }
                    });
                } catch (e) {
                    console.error('初始化 Darkmode.js 出错：' + e);
                }
            }

            function endLoad() {
                clearInterval(timer);
                progress.style.width = "100%";
                loadingBar.classList.remove("loading");

                setTimeout(function () {
                    progress.style.width = 0;
                }, 400);
            }

            // 初始化
            function initialize() {
                // initDarkmode();
                initPjax();
                initAni();
                initTranslate();
            }


            // 触发器
            //// 网页加载完毕后触发
            window.addEventListener('DOMContentLoaded', () => initialize());
            //// Pjax 开始时执行的函数
            document.addEventListener("pjax:send", function () {
                var loadingBarWidth = 20;
                var MAX_LOADING_WIDTH = 95;

                loadingBar.classList.add("loading");
                progress.style.width = loadingBarWidth + "%";

                clearInterval(timer);
                timer = setInterval(function () {
                    loadingBarWidth += 3;

                    if (loadingBarWidth > MAX_LOADING_WIDTH) {
                        loadingBarWidth = MAX_LOADING_WIDTH;
                    }

                    progress.style.width = loadingBarWidth + "%";
                }, 500);
            });
            //// 监听 Pjax 完成后加载
            document.addEventListener("pjax:complete", function () {
                endLoad();
            });
        })();

    </script>
</head>

<body>
    <!-- 背景 -->
    <div class="area">
        <ul class="circles">
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>

    <!-- 导航栏 -->
    <nav>
        <div class="nav-content max-width">
            <div class="logo">
                <img alt="Temporary Icon" title="Temporary Icon" src="/img/wedot.png">
            </div>
            <div class="ul">
                <a title="Home page"><i class="fa fa-home"></i> Home</a>
                <a title="WeDot Forum" href="forum"><i class="fa fa-comment"></i> Forum</a>
                <a title="About the WeDot Engine" href="https://github.com/Wedot-Engine"><i
                            class="fa fa-info-circle"></i> About</a>
                <a title="Change the language of this site" id="translate"><i class="fa fa-language"></i>
                        Language</a>
                <!-- <a title="Change display mode" id="dark_b" href="javascript:;"><i class="fa fa-adjust"></i> Mode</a> -->
                
            </div>
        </div>
    </nav>

    <!-- 主要内容 -->
    <div class="container max-width">
        <img class="main-logo" alt="Temporary Icon" title="Temporary Icon" src="/img/wedot.png"></img>
        <exegesis>↑ Temporary Icon ↑ :-)</exegesis>
        <h1 title="A multi-platform 2D and 3D game engine focused solely on technology and user experience">WeDot Engine
        </h1>
        <p>A multi-platform 2D and 3D game engine focused solely on technology and user experience</p>
        <div class="contact">
            <a title="Github" href="https://github.com/Wedot-Engine"><i class="fab fa-github"></i></a>
            <a title="QQ"
                href="https://qm.qq.com/cgi-bin/qm/qr?authKey=G%2BR%2FKlLQBeH71b1Mhe4t2gM%2B8rLXndOEPhPtDgWgTudLUtGUgpMrNAWD87x%2F64ta&k=IPTGQ3zH_W8IAzaFrnLLGF2kplhv-EeM&noverify=0&group_code=670915303"><i
                    class="fab fa-qq"></i></a>
        </div>
    </div>

    <div class="loading-bar">
        <div class="progress"></div>
    </div>

    <script src="//lf6-cdn-tos.bytecdntp.com/cdn/expire-1-y/instant.page/5.1.0/instantpage.min.js"
        type="text/javascript"></script>
</body>

</html>